/**
 * Underlayer Slide jQuery JavaScript Plugin v0.0.1
 * http://www.intheloftstudios.com/packages/jquery/jquery.slide_under
 *
 * jQuery plugin to simulate one element sliding under another without lose of dimensions.
 *
 * Copyright 2013, Aaron Klump
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: Sun Nov 16 09:30:44 PST 2014
 *
 * Helper css classes applied by this plugin (all are prefixed):
 *
 * On the under element:
 * - under
 * - visible
 * - showing
 * - hiding
 *
 * On the toggle element:
 * - toggle
 * - active
 *
 * On the wrapper element:
 * - wrapper
 * - processed
 *
 * @license
 */
!function($,e,s,t){"use strict";function n(e,s){this.class="SlideUnder",this.element=e,this.options=$.extend({},$.fn.slideUnder.defaults,s),this._defaults=$.fn.slideUnder.defaults,this.init()}n.prototype.toString=function(){return this.class},n.prototype.init=function(){var e=this,s=e.options.cssPrefix;e.dimensions=[],e.styles={};var t=[];e.presetName=null,"string"==typeof e.options.preset&&"object"==typeof i[e.options.preset]&&(e.presetName=e.options.preset,t.push(s+"preset-"+e.presetName),e.options.preset=i[e.presetName]),e.$toggle=$(e.options.toggle),e.$toggle.addClass(s+"toggle").removeClass(s+"active").click(function(){e.toggle()}),e.$over=$(e.options.over),e.styles.over=e.$over.attr("style"),e.dimensions[0]=e.$over.outerWidth(),e.dimensions[1]=e.$over.outerHeight(),e.$over.addClass(s+"over");var n;if(e.options.shim&&(n=$("<div>").addClass(s+"shim").width(e.dimensions[0]).height(e.dimensions[1])),e.$under=$(e.element),e.styles.under=e.$under.attr("style"),e.dimensions[2]=e.$under.outerWidth(),e.dimensions[3]=e.$under.outerHeight(),e.$under.wrap('<div class="'+s+'masque"></div>').addClass(s+"under "+s+"processed"),e.$masque=e.$under.parent("."+s+"masque"),e.$masque.width(e.dimensions[2]),e.masqueHeight=e.dimensions[1]+e.dimensions[3],e.$container=e.$over.parent("."+s+"container"),0===e.$container.length){var o=$("<div>").addClass(s+"container");e.$over.add(e.$masque).wrapAll(o),e.$container=e.$over.parent("."+s+"container")}else e.$container.prepend(e.$masque);e.$container.width(e.dimensions[0]).height(e.dimensions[1]).addClass(t.join(" ")),e.$shim=$(),e.options.shim&&0===e.$container.next("."+s+"shim").length&&(e.$over.parent().after(n),e.$shim=n),e.travelFrom=-1*e.dimensions[3]+e.dimensions[1],e.travelTo=e.dimensions[1],e.speed=e.options.speed*Math.abs(e.travelFrom)/100,"function"==typeof e.options.preset.afterInit&&e.options.preset.afterInit(e),e.options.afterInit(e)},n.prototype.destroy=function(){var e=this,s=e.options.cssPrefix;e.$toggle.removeClass(s+"toggle "+s+"active").unbind("click"),e.$shim.remove(),e.$under.unwrap(),e.$over.unwrap(),e.$over.removeClass(s+"over").removeData("slideUnder").attr("style",e.styles.over),e.styles.over?e.$over.attr("style",e.styles.over):e.$over.removeAttr("style"),e.$under.removeData(s+"style").removeClass(s+"under").removeClass(s+"visible").removeClass(s+"processed"),e.styles.under?e.$under.attr("style",e.styles.under):e.$under.removeAttr("style")},n.prototype.isVisible=function(){var e=this.options.cssPrefix;return this.$under.hasClass(e+"showing")||this.$under.hasClass(e+"visible")},n.prototype.toggle=function(){return this.isVisible()?this.hide():this.show()},n.prototype.show=function(){var e=this;if(e.$under.is(":animated")||e.isVisible())return e;var s=this.options.cssPrefix;return e.options.beforeShow(e.$under,e),e.$toggle.addClass(s+"active"),e.$under.addClass(s+"showing"),e.$masque.height(e.masqueHeight),"function"==typeof e.options.preset.show&&e.options.preset.show(e,function(){e.$under.addClass(s+"visible").removeClass(s+"showing"),e.options.afterShow(e.$under,e)}),e},n.prototype.hide=function(){var e=this;if(e.$under.is(":animated")||!e.isVisible())return e;var s=e.options.cssPrefix;return e.options.beforeHide(e.$under,e),e.$toggle.removeClass(s+"active"),e.$under.addClass(s+"hiding"),"function"==typeof e.options.preset.hide?e.options.preset.hide(e,function(){e.$masque.height(""),e.$under.removeClass(s+"visible").removeClass(s+"hiding"),e.options.afterHide(e.$under,e)}):e};var i={};i.down={},i.down.afterInit=function(e){e.$under.css("top",e.travelFrom).hide()},i.down.show=function(e,s){e.$under.show().animate({top:e.travelTo},e.speed,s)},i.down.hide=function(e,s){e.$under.animate({top:e.travelFrom},e.speed,function(){e.$under.hide(),s()})},i.up={},i.up.afterInit=function(e){e.$masque.css("marginTop",-1*e.dimensions[3]),e.$over.css("bottom",0),e.$under.css("top",e.dimensions[3]).hide()},i.up.show=function(e,s){e.$under.show().animate({top:0},e.speed,s)},i.up.hide=function(e,s){e.$under.animate({top:e.dimensions[3]},e.speed,function(){e.$under.hide(),s()})},$.fn.slideUnder=function(e){return this.each(function(){var s=$.data(this,"slideUnder");"string"==typeof e&&s&&"function"==typeof s[e]?s[e]():("string"==typeof e&&(e={over:e}),$.data(this,"slideUnder",new n(this,e)))})},$.fn.slideUnder.defaults={toggle:null,over:null,preset:"down",speed:200,afterInit:function(e){},beforeShow:function(e,s){},afterShow:function(e,s){},beforeHide:function(e,s){},afterHide:function(e,s){},shim:!0,cssPrefix:"slide-under-"},$.fn.slideUnder.version=function(){return"0.0.1"}}(jQuery,window,document);