QUnit.test("Options 'initial' = visible makes the underlayer visible on init and sized the masque.",function(e){var t="#top-animation",s="#bottom-animation";$(s).slideUnder({over:t,initial:"visible"}),e.ok($(s).is(":visible"));var i=$(s).data("slideUnder");e.deepEqual(i.$masque.height(),i.dimensions[1]+i.dimensions[3])}),QUnit.test("methods makeVisible & makeHidden work as expected.",function(e){var t="#top-animation",s="#bottom-animation";$(s).slideUnder(t);var i=$(s).data("slideUnder");i.makeVisible(),e.ok(i.isVisible()),i.makeHidden(),e.ok(!i.isVisible())}),QUnit.test("Classes hiding are applied during transitions.",function(e){var t="#top-animation",s="#bottom-animation";$(s).slideUnder({over:t,speed:"absolute",rate:0});var i=$(s).data("slideUnder");i.show(),i.options.rate=6,$(s).slideUnder("hide"),stop(),setTimeout(function(){e.ok(i.$container.hasClass("slide-under-hiding")),e.ok(i.$masque.hasClass("slide-under-hiding")),start()},3)}),QUnit.test("Classes showing are applied during transitions.",function(e){var t="#top-animation",s="#bottom-animation";$(s).slideUnder({over:t,speed:"absolute",rate:6});var i=$(s).data("slideUnder");$(s).slideUnder("show"),stop(),setTimeout(function(){e.ok(i.$container.hasClass("slide-under-showing")),e.ok(i.$masque.hasClass("slide-under-showing")),start()},3)}),QUnit.test("Before hide under is visible, after hide under is hidden.",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder(t),$(s).slideUnder("show"),e.ok($(s).is(":visible")),$(s).slideUnder("hide"),e.ok($(s).is(":hidden"))}),QUnit.test("Before show under is hidden, afterShow under is visible.",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder(t),e.ok($(s).is(":hidden")),$(s).slideUnder("show"),e.ok($(s).is(":visible"))}),QUnit.test(".slide-under-masque has derivitive id of under when under has id.",function(e){var t=".top-layer",s=".bottom-layer";$(s).attr("id","ready-for-breakfast").slideUnder(t);var i=$(s).data("slideUnder");e.deepEqual(i.$masque.attr("id"),"slide-under-masque-ready-for-breakfast"),$(s).attr("id","")}),QUnit.test(".slide-under-masque has default id.",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder(t);var i=$(s).data("slideUnder");e.deepEqual(i.$masque.attr("id"),"slide-under-masque-0")}),QUnit.test("Preset class 'down' appears on underlayer.",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder(t);var i=$(s).data("slideUnder");e.ok(i.$masque.hasClass("slide-under-direction-down"))}),QUnit.test("Preset class 'up' appears on underlayer.",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder({over:t,direction:"up"});var i=$(s).data("slideUnder");e.ok(i.$masque.hasClass("slide-under-direction-up"))}),QUnit.test(".slide-under-masque is wrapped around the underlayer.",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder(t),e.deepEqual($(s).parent(".slide-under-masque").length,1)}),QUnit.test("With two instances, two shims are created.",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder(t),$("#bottom-2").slideUnder("#top-2"),e.deepEqual($(".slide-under-shim").length,2)}),QUnit.test("Passing shim = false prevents the dom object from being created and does not make the above absolute positioned.",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder({shim:!1,over:t}),e.deepEqual($(".slide-under-shim").length,0),e.deepEqual($(t).css("position"),"static");var i=$(s).data("slideUnder");e.deepEqual(i.$container.css("position"),"static")}),QUnit.test("Passing a jQuery selector as options converts it to the over option.",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder(t);var i=$(s).data("slideUnder");e.ok($(t).hasClass("slide-under-over"))}),QUnit.test("Calling with 'hide' or 'show' shows performs the corresponding methods.",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder({over:t,preset:{hide:function(e,t){t()},show:function(e,t){t()}}});var i=$(s).data("slideUnder");e.ok(!$(s).parent().hasClass("slide-under-visible")),e.ok(!i.isVisible()),$(s).slideUnder("show"),e.ok($(s).parent().hasClass("slide-under-visible")),e.ok(i.isVisible()),$(s).slideUnder("hide"),e.ok(!$(s).parent().hasClass("slide-under-visible")),e.ok(!i.isVisible())}),QUnit.test("Speed calculates correctly when set to constant.",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle";$(t).height(100),$(s).height(200),$(s).slideUnder({over:t,toggle:i,speed:"constant",rate:100});var d=$(s).data("slideUnder");e.deepEqual(d.speed(),50),$(s).slideUnder("destroy"),$(t).add($(s)).removeAttr("style")}),QUnit.test("Rate is returned when speed is set to absolute",function(e){var t=".top-layer",s=".bottom-layer";$(s).slideUnder({over:t,speed:"absolute",rate:333});var i=$(s).data("slideUnder");e.deepEqual(i.speed(),333)}),QUnit.test("A second call using a different under element places second .masque inside .slide-under-container.",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle";$(s).slideUnder({over:t,toggle:i}),$(".bottom-layer-b").slideUnder({over:t,toggle:i}),e.deepEqual($(".bottom-layer-b").parent(".slide-under-masque").parent(".slide-under-container").length,1)}),QUnit.test("container and masque have the correct dimensions.",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle",d=[$(t).outerWidth(),$(t).outerHeight(),$(s).outerWidth(),$(s).outerHeight()];$(s).slideUnder({over:t,toggle:i});var n=$(".slide-under-container");e.deepEqual(n.outerWidth(),d[0]),e.deepEqual(n.outerHeight(),d[1]);var r=$(".slide-under-masque");e.deepEqual(r.outerWidth(),d[0]),e.deepEqual(r.outerHeight(),d[1]),$(i).click(),e.deepEqual(r.outerHeight(),d[1]+d[3])}),QUnit.test("Defaults hide underlayer on init.",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle";$(s).slideUnder({over:t,toggle:i}),e.ok(!$(s).is(":visible"))}),QUnit.test("Custom preset fires all callbacks",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle",d={};$(s).slideUnder({over:t,toggle:i,direction:{afterInit:function(e){d.afterInit=e},show:function(e,t){d.show=[e,t]},hide:function(e,t){d.hide=[e,t]}}});var n=$(s).data("slideUnder");e.deepEqual(d.afterInit.class,"SlideUnder"),n.show(),e.deepEqual(d.show[0].class,"SlideUnder"),e.deepEqual(typeof d.show[1],"function"),n.hide(),e.deepEqual(d.hide[0].class,"SlideUnder"),e.deepEqual(typeof d.hide[1],"function")}),QUnit.test("A second call using a different under element doesn't double wrap.",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle";$(s).slideUnder({over:t,toggle:i}),$(".bottom-layer-b").slideUnder({over:t,toggle:i}),e.deepEqual($(".slide-under-container").length,1),e.deepEqual($(".slide-under-shim").length,1)}),QUnit.test("Destroy removes helper classes.",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle";$(s).slideUnder({over:t,toggle:i}),$(s).slideUnder("destroy"),e.ok(!$(i).hasClass("slide-under-toggle")),e.ok(!$(i).hasClass("slide-under-active")),e.ok(!$(t).hasClass("slide-under-over")),e.ok(!$(t).hasClass("slide-under-processed")),e.ok(!$(s).hasClass("slide-under-under")),e.ok(!$(s).parent().hasClass("slide-under-visible"))}),QUnit.test("Destroy removes shim, container, masque",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle";$(s).slideUnder({over:t,toggle:i}),$(s).slideUnder("destroy"),e.deepEqual($(".slide-under-shim").length,0),e.deepEqual($(".slide-under-container").length,0),e.deepEqual($(".slide-under-masque").length,0)}),QUnit.test(".slide-under-shim is added with correct dimensions.",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle",d=[$(t).outerWidth(),$(t).outerHeight()];e.deepEqual($(".slide-under-shim").length,0),$(s).slideUnder({over:t,toggle:i});var n=$(".slide-under-shim");e.deepEqual(n.length,1),e.deepEqual(n.width(),d[0]),e.deepEqual(n.height(),d[1])}),QUnit.test("Top and bottom are wrapped with .slide-under-container",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle";$(s).slideUnder({over:t,toggle:i}),e.deepEqual($(t).parent(".slide-under-container").length,1)}),QUnit.test("Style tags are restored on underlayer on destroy.",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle";$(s).slideUnder({over:t,toggle:i}),$(s).slideUnder("destroy"),e.deepEqual($(s).attr("style"),void 0),e.deepEqual($(t).attr("style"),void 0)}),QUnit.test("Css classes are applied on init.",function(e){var t=".top-layer",s=".bottom-layer",i=".toggle";$(s).slideUnder({over:t,toggle:i}),e.ok($(t).hasClass("slide-under-over")),e.ok($(s).hasClass("slide-under-under")),e.ok($(s).hasClass("slide-under-processed")),e.ok($(i).hasClass("slide-under-toggle"))}),QUnit.testDone(function(e){$(".slide-under-processed").slideUnder("destroy")});